package study;

import java.util.Scanner;

public class BJ14890 {

	static int n;
	static int l;
	static int[][] map;
	static boolean[] visited;
	static int answer;

	public static void main(String[] args) {
		Scanner in = new Scanner(System.in);

		n = in.nextInt();
		l = in.nextInt();

		map = new int[n][n];

		for (int i = 0; i < n; i++) {
			for (int j = 0; j < n; j++) {
				map[i][j] = in.nextInt();
			}
		}

		execute();
	}

	public static void execute() {
		
		boolean fail = false;

		for (int i = 0; i < n; i++) {
			// 가로검사
			visited = new boolean[n];
			for (int j = 0; j < n; j++) {
				if (j + 1 < n) {
					if (map[i][j] - 1 == map[i][j + 1]) {//내리막필요
						for(int a = 1; a <= l; a++){//l칸 검사
							if(visited[j + a] && map[i][j + a] != map[i][j] - 1){
								fail = true;
								break;
							}
							visited[j + a] = true;
						}
					}else if((map[i][j] < map[i][j + 1])){//오르막필요
						
					}
					
					if(fail == true){
						fail = false;
						break;
					}
				}
			}
			
			
			// 세로검사
			for (int j = 0; j < n; j++) {
			}
		}

	}

}
