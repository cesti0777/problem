package study;

import java.util.LinkedList;
import java.util.Queue;
import java.util.Scanner;

public class BJ14891 {

	static LinkedList<Integer> list1 = new LinkedList<>();
	static LinkedList<Integer> list2 = new LinkedList<>();
	static LinkedList<Integer> list3 = new LinkedList<>();
	static LinkedList<Integer> list4 = new LinkedList<>();
	static int orderCnt;
	static Queue<Integer> orders = new LinkedList<Integer>();

	public static void main(String[] args) {

		Scanner in = new Scanner(System.in);

		for (int i = 0; i < 8; i++) {
			list1.add(in.nextInt());
		}
		for (int i = 0; i < 8; i++) {
			list2.add(in.nextInt());
		}
		for (int i = 0; i < 8; i++) {
			list3.add(in.nextInt());
		}
		for (int i = 0; i < 8; i++) {
			list4.add(in.nextInt());
		}

		orderCnt = in.nextInt();

		for (int i = 0; i < orderCnt; i++) {
			orders.add(in.nextInt());
			orders.add(in.nextInt());
		}

		execute();// 쫞

	}

	public static void execute() {

		int tNum;
		int roDir;

		while (!orders.isEmpty()) {
			tNum = orders.remove();
			roDir = orders.remove();

			if(tNum == 1){
				if(list1.get(2) == list2.get(6)){//1~2쾔얦 쌿챶절
					rotation(tNum, roDir);
					continue;
				}else{//1~2쾔얦 얯쟊절
					rotation(tNum, roDir);
					if(list2.get(2) == list3.get(6)){//2~3쾔얦 쌿챶절
						rotation(tNum + 1, -roDir);
						continue;
					}else{//2~3쾔얦 얯쟊절
						rotation(tNum + 1, -roDir);
						if(list3.get(2) == list4.get(6)){//3~4쾔얦 쌿챶절
							rotation(tNum + 2, roDir);
							continue;
						}else{//3~4쾔얦 얯쟊절
							rotation(tNum + 2, roDir);
							rotation(tNum + 3, -roDir);
							continue;
						}
					}
				}
			}else if(tNum == 2){
				if(list1.get(2) == list2.get(6)){//1~2쾔얦 쌿챶절
					if(list2.get(2) == list3.get(6)){//2~3쾔얦 쌿챶절
						rotation(tNum, roDir);
						continue;
					}else{//2~3쾔얦 얯쟊절
						rotation(tNum, roDir);
						if(list3.get(2) == list4.get(6)){//3~4쾔얦 쌿챶절
							rotation(tNum + 1, -roDir);
							continue;
						}else{//3~4쾔얦 얯쟊절
							rotation(tNum + 1, -roDir);
							rotation(tNum + 2, roDir);
							continue;
						}
					}
				}else{//1~2쾔얦 얯쟊절
					if(list2.get(2) == list3.get(6)){//2~3쾔얦 쌿챶절
						rotation(tNum, roDir);
						rotation(tNum - 1, -roDir);
						continue;
					}else{//2~3쾔얦 얯쟊절
						rotation(tNum, roDir);
						if(list3.get(2) == list4.get(6)){//3~4쾔얦 쌿챶절
							rotation(tNum + 1, -roDir);
							continue;
						}else{//3~4쾔얦 얯쟊절
							rotation(tNum + 1, -roDir);
							rotation(tNum + 2, roDir);
							continue;
						}
					}
					
				}
			}else if(tNum == 3){
			}else{
			}
		}
	}

	public static void rotation(int tNum, int roDir) {
		LinkedList<Integer> list;
		if(tNum == 1){
			list = list1;
		}else if(tNum == 2){
			list = list2;
		}else if(tNum == 3){
			list = list3;
		}else{
			list = list4;
		}
		
		if(roDir == 1){
			list.addFirst(list.removeLast());
		}else{
			list.addLast(list.removeFirst());
		}
	}
}
