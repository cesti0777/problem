package samsung.practice1;

import java.util.Scanner;

public class P14500 {
	static int n;
	static int m;
	static int[][] map = new int[500][500];
	static int max = 0;
	
	public static void main(String[] args) {
		Scanner in = new Scanner(System.in);
		
		n = in.nextInt();
		m = in.nextInt();
		
		//己 煽舌
		for(int i = 0; i < n; i++){
			for(int j = 0; j < m; j++){
				map[i][j] = in.nextInt();
			}
		}
		
		for(int i = 0; i < n; i++){
			for(int j = 0; j < m; j++){
				count1(i,j);
				count2(i,j);
				count3(i,j);
				count4(i,j);
				count5(i,j);
				count6(i,j);
				count7(i,j);
				count8(i,j);
				count9(i,j);
				count10(i,j);
				count11(i,j);
				count12(i,j);
				count13(i,j);
				count14(i,j);
				count15(i,j);
				count16(i,j);
				count17(i,j);
				count18(i,j);
			}
		}
	}
	//けけけけ
	public static void count1(int i,int j){
		int count = 0;
		if(j + 1 < m && j + 2 < m && j + 3 < m){
			count = map[i][j] + map[i][j + 1] + map[i][j + 2] + map[i][j + 3];
		}
		max = Math.max(max, count);
	}
	//け
	//け
	//け
	//け
	public static void count2(int i,int j){
		int count = 0;
		if(i + 1 < n && i + 2 < n && i + 3 < n){
			count = map[i][j] + map[i + 1][j] + map[i + 2][j] + map[i + 3][j];
		}
		max = Math.max(max, count);
	}
	//けけ
	//けけ
	public static void count3(int i,int j){
		int count = 0;
		count = map[i][j] + map[i + 1][j] + map[i][j + 1] + map[i + 1][j + 1];
		max = Math.max(max, count);
	}
	//
	//け
	//け
	//けけ
	//
	//  け
	//  け
	//けけ
	//
	//けけけ
	//け
	//
	//けけけ
	//   け
	//	      
	//けけ
	//  け
	//  け
	//   
	//けけ
	//け
	//け
	//
	//   け
	//けけけ
	//
	//け
	//けけけ
	//
	//け
	//けけ
	//  け
	//   
	//  け
	//けけ
	//け
	//
	//  けけ
	//けけ
	//
	//けけ
	//  けけ
	//   
	//けけけ
	// け
	// 
	// け
	//けけけ
	//   
	//  け
	//けけ
	//  け
	//   
	//け
	//けけ
	//け
}
